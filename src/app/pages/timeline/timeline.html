<!-- <ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Timeline
    </ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="goMessages()" icon-only large>
        <ion-badge color="danger">{{ getUnreadMessagesCount() }}</ion-badge>
        <ion-icon name="paper-plane-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header> -->


<ion-header  class="ion-no-border ion-padding-horizontal">
  <ion-toolbar color="light" >
    <ion-buttons slot="start" (click)="searchFriends()" >
      <ion-icon slot="icon-only" name="search-outline" class="medium-font"> </ion-icon>
    </ion-buttons>
    <ion-title class="medium-font bold-font"> <img style = "max-width: 91px;"src="assets/logo.png"/> </ion-title>

    <ion-buttons slot="end"  (click)="goMessages()" >
      <ion-icon slot="icon-only" name="chatbubbles-outline" class="medium-font"> </ion-icon>
      <ion-badge color="danger" class="xsmall-font badge-messages">{{  getUnreadMessagesCount() > 10 ? '9+' :  getUnreadMessagesCount() }}</ion-badge>

    </ion-buttons>

  </ion-toolbar>
</ion-header>


<ion-content  class="box-border-top ion-padding-top">
  <div class="small-font beta ion-text-center">Beta version</div>
  <!-- <div *ngIf="!loading"> 
    <app-stories [stories]="stories" [addStory]="true"></app-stories>
  </div>

  <div *ngIf="loading"
    style="position:fixed; display: flex; width: 100%; height: 70%; align-items: center; justify-content: center;">
    <ion-spinner name="circles"></ion-spinner>
  </div> -->

  <ion-refresher slot="fixed" (ionRefresh)="loadData($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <div *ngIf="!loading && routeTimelineResolveData?.items" class="main_div">
    <app-post-card *ngFor="let item of routeTimelineResolveData?.items" [item]="item" [user]="user"></app-post-card>
    <!-- <ion-row *ngFor="let item of routeTimelineResolveData?.items" style="background-color: #FFF; padding: 10px;">
      <ion-col size="12">
        <div class="image-shell">
          <img [src]="item?.image" alt="Sample Image" style="width: 100%; height: 100%;"/>
        </div>
      </ion-col>
      </ion-row> -->
   </div>

  <ion-grid class="ion-padding" *ngIf="!routeTimelineResolveData?.items || routeTimelineResolveData?.items.length === 0"> 
    <ion-row>
      <ion-col class="ion-margin-vertical ion-padding-vertical">
        <div class=" ion-text-center ion-padding">

            <svg xml:space="preserve" viewBox="0 0 100 100" y="0" x="0" xmlns="http://www.w3.org/2000/svg"
             id="圖層_1" version="1.1" 
             style="height: 100%; width: 45%; background:  #fafafa; shape-rendering: auto;" width="200px" height="200px"><g class="ldl-scale" style="transform-origin: 50% 50%; transform: rotate(0deg) scale(0.8, 0.8);"><g class="ldl-ani"><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.740741s infinite normal forwards running breath-dfc2b681-858a-4d84-bbf4-42ea01032905;"><path stroke-miterlimit="10" stroke-width="3" stroke="#333" fill="none" stroke-linejoin="round" stroke-linecap="round" d="M50 46.6V34.8c-5.4 0-9.8-4.4-9.8-9.8s4.4-9.8 9.8-9.8 9.8 4.4 9.8 9.8" style="stroke: rgb(0, 0, 0);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -0.925926s infinite normal forwards running breath-dfc2b681-858a-4d84-bbf4-42ea01032905;"><path d="M15.2 65.5h69.7v6.1H15.2z" stroke-miterlimit="10" stroke-width="3" stroke="#333" fill="#f8b26a" style="fill: rgb(255, 255, 255); stroke: rgb(0, 0, 0);"></path></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform: scale(0.91); transform-origin: 50px 50px; animation: 1.11111s linear -1.11111s infinite normal forwards running breath-dfc2b681-858a-4d84-bbf4-42ea01032905;"><path stroke-miterlimit="10" stroke-width="3" stroke="#333" fill="#f8b26a" d="M89.5 64.6L52.7 42h0c-1.7-.7-3.6-.7-5.4 0h0L10.5 64.6c-1.9.9-3.2 3.1-3 5.5.3 3.4 3.2 5.5 5.9 4.5L50 54.9l36.6 19.7c2.7 1 5.6-1.1 5.9-4.5.2-2.4-1.1-4.6-3-5.5z" style="fill: rgb(255, 255, 255); stroke: rgb(0, 0, 0);"></path></g></g><metadata xmlns:d="https://loading.io/stock/">

            </metadata></g></g><style id="breath-dfc2b681-858a-4d84-bbf4-42ea01032905" data-anikit="">@keyframes breath-dfc2b681-858a-4d84-bbf4-42ea01032905
            {
              0% {
                animation-timing-function: cubic-bezier(0.9647,0.2413,-0.0705,0.7911);
                transform: scale(0.9099999999999999);
              }
              51% {
                animation-timing-function: cubic-bezier(0.9226,0.2631,-0.0308,0.7628);
                transform: scale(1.02994);
              }
              100% {
                transform: scale(0.9099999999999999);
              }
            }</style></svg>
          <!-- <ion-icon class="xxlarge-font" name="alert-outline"></ion-icon> 
          <p class="bold-font medium-font">{{"timeline.noposts.title" | translate}}</p>
          <p class="regular-font medium-font">{{"timeline.noposts.description" | translate}}</p> -->
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
 

  <!-- <ion-infinite-scroll threshold="100px" (ionInfinite)="loadData($event)">
    <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll> -->


</ion-content>